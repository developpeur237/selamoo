"use strict";function nasa_check_iOS(){for(var a=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];a.length>0;)if(navigator.platform===a.pop())return!0;return!1}function nasa_load_ajax_funcs(a){loadingCarouselNasaCore(a),loadingSCCaroselNasaCore(a),loadCountDownNasaCore(a),reponsiveBanners(a),loadCorouselHasThumbs(a),loadingSlickHasExtraVerticalNasaCore(a),loadingSlickVerticalCategories(a),nasa_loadTipTop(a),initNasaGiftFeatured(a),nasaRenderTagClouds(a),nasaLoadHeightFullWidthToSide(a),loadPinProductsBanner(a)}function reponsiveBanners(a){var t=a(window).width();if(a(".nasa-banner-image").length>0){var e,n,i,s,r,o=/(large-\d+)/g;a(".nasa-banner-image").each(function(){e=n=12;var d=a(this),l=a(d).parent(),c=a(l).closest(".row").closest(".columns");if(a(c).length>0){var u=a(c).attr("class").match(o);n=null!==u?parseInt(u[0].replace("large-","")):n}var p=a(d).parents(".columns");if(a(p).length>0){var f=a(p).attr("class").match(o);e=null!==f?parseInt(f[0].replace("large-","")):e}var h=parseInt(a(d).attr("data-height"));i=12/e,s=12/n,946>t?(r=t/1200*s,a(l).height(h*r*i),a(l).find(".nasa-banner-content").css({"font-size":(100*i*r).toString()+"%"})):t>946&&1200>t?(r=t/1200,a(l).height(h*r),a(l).find(".nasa-banner-content").css({"font-size":(100*r).toString()+"%"})):(a(l).height(h),a(l).find(".nasa-banner-content").css({"font-size":"100%"}))})}}function loadMorePortfolio(a,t,e,n){return a.ajax({url:ajaxurl_core,type:"post",dataType:"json",data:{action:"get_more_portfolio",page:n,category:t,col:e},beforeSend:function(){a(".loadmore-portfolio").before('<div id="ajax-loading"></div>'),a(".loadmore-portfolio").hide(),a(".portfolio-list").css({overflow:"hidden"})},success:function(t){a("#ajax-loading").remove(),a(".loadmore-portfolio").show(),t.success?(a(".portfolio-list").isotope("insert",a(t.result)).isotope({itemSelector:".portfolio-item"}),setTimeout(function(){a(".portfolio-list").isotope({itemSelector:".portfolio-item"})},800),n>=t.max&&a(".loadmore-portfolio").addClass("end-portfolio").html(t.alert).removeClass("loadmore-portfolio")):a(".loadmore-portfolio").addClass("end-portfolio").html(t.alert).removeClass("loadmore-portfolio"),portfolio_load_flag=!1}}),!1}function loadingCarouselNasaCore(a){a(".nasa-slider").each(function(){var t=a(this);if(!a(t).hasClass("owl-loaded")){var e=a(t).attr("data-columns"),n=a(t).attr("data-columns-small"),i=a(t).attr("data-columns-tablet"),s="true"===a(t).attr("data-autoplay")?!0:!1,r="true"===a(t).attr("data-loop")?!0:!1,o="true"===a(t).attr("data-dot")?!0:!1,d="true"===a(t).attr("data-disable-nav")?!1:!0,l="true"===a(t).attr("data-height-auto")?!0:!1,c=parseInt(a(t).attr("data-margin")),u=parseInt(a(t).attr("data-margin_small")),p=parseInt(a(t).attr("data-speed")),f=parseInt(a(t).attr("data-delay")),h="true"===a(t).attr("data-disable-drag")?!1:!0,v=a(t).attr("data-padding")?a(t).attr("data-padding"):!1;c||0===c||(c=10),u||0===u||(u=c),p||(p=600),f||(f=3e3);var m={nav:d,autoplay:s,autoplaySpeed:p,loop:r,dots:o,autoplayTimeout:f,autoplayHoverPause:!0,responsiveClass:!0,navText:["",""],navSpeed:600,lazyLoad:!0,touchDrag:h,mouseDrag:h,responsive:{0:{items:n,margin:u,nav:!1},600:{items:i},1e3:{items:e}}};c&&(m.margin=c),l&&(m.autoHeight=!0),a(t).owlCarousel(m),v&&a(t).find("> .owl-stage-outer").css({"padding-bottom":v,"margin-bottom":"-"+v,height:"auto"});var g=a(t).height();g>0&&a(t).parents(".nasa-panels").length>0&&a(t).parents(".nasa-panels").css({"min-height":g}),t.on("resized.owl.carousel",function(){nasaLoadHeightDealBlock(a)})}})}function loadingSCCaroselNasaCore(a){a(".nasa-sc-carousel").length>0&&a(".nasa-sc-carousel").each(function(){var t=a(this);if(!a(t).hasClass("owl-loaded")){var e=a(t).attr("data-contruct"),n=a("#item-slider-"+e),i=a(n).find(".banner").length>0?a(n).find(".banner").height():0;if(i){var s='<div class="nasa-carousel-loadding" style="height: '+i+'px;"><div class="please-wait type2"></div></div>';a(n).parent().append(s)}var r="true"===a(t).attr("data-nav")?!0:!1,o="true"===a(t).attr("data-dots")?!0:!1,d="false"===a(t).attr("data-autoplay")?!1:!0,l="true"===a(t).attr("data-loop")?!0:!1,c=parseInt(a(t).attr("data-speed")),u=parseInt(a(t).attr("data-itemSmall")),p=parseInt(a(t).attr("data-itemTablet")),f=parseInt(a(t).attr("data-items")),c=c?c:3e3;u=u?u:1,p=p?p:1,f=f?f:1,n.owlCarousel({loop:l,nav:r,dots:o,autoplay:d,autoplaySpeed:c,autoplayTimeout:5e3,autoplayHoverPause:!0,navText:["",""],navSpeed:c,dotsSpeed:c,responsiveClass:!0,callbacks:!0,responsive:{0:{items:u,nav:!1},600:{items:p,nav:!1},1e3:{items:f,nav:r}}}),n.find(".owl-item").each(function(){var t=a(this);if(a(t).find(".banner .banner-inner").length>0){var e=a(t).find(".banner .banner-inner");if(a(e).removeAttr("class").removeAttr("style").addClass("banner-inner"),a(t).hasClass("active")){var n=a(e).attr("data-animation");setTimeout(function(){a(e).show(),a(e).addClass("animated").addClass(n).css({visibility:"visible","animation-duration":"1s","animation-delay":"0ms","animation-name":n})},200)}}}),n.on("translated.owl.carousel",function(t){var e=t.target;a(e).find(".owl-item").length>0&&a(e).find(".owl-item").each(function(){var t=a(this);if(a(t).find(".banner .banner-inner").length>0){var e=a(t).find(".banner .banner-inner"),n=a(e).attr("data-animation");a(e).removeClass("animated").removeClass(n).removeAttr("style"),a(t).hasClass("active")&&setTimeout(function(){a(e).show(),a(e).addClass("animated").addClass(n).css({visibility:"visible","animation-duration":"1s","animation-delay":"0ms","animation-name":n})},200)}})}),a(n).parent().find(".nasa-carousel-loadding").remove()}})}function loadCountDownNasaCore(a){var t=1===a('input[name="nasa-count-down-enable"]').length&&"1"===a('input[name="nasa-count-down-enable"]').val()?!0:!1;t&&a(".countdown").length>0&&a(".countdown").each(function(){var t=a(this);if(!a(t).hasClass("countdown-loaded")){var e=new Date(t.data("countdown"));a(t).countdown({until:e,padZeroes:!0}),a(t).hasClass("pause")&&a(t).countdown("pause"),a(t).addClass("countdown-loaded")}})}function loadCorouselMain(a,t){t(".main-images-"+a).owlCarousel({items:1,nav:!1,lazyLoad:!0,autoplaySpeed:600,dots:!1,autoHeight:!0,autoplay:!1,loop:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,responsiveClass:!0,navText:["",""],navSpeed:600}),t(".main-images-"+a).on("change.owl.carousel",function(e){var n=e.relatedTarget.relative(e.property.value),i=t(".product-thumbnails-"+a+" .owl-item");t(".product-thumbnails-"+a+" .active-thumbnail").removeClass("active-thumbnail"),t(".product-thumbnails-"+a).find(".owl-item").eq(n).addClass("active-thumbnail"),i.trigger("to.owl.carousel",[n,300,!0])}).data("owl.carousel"),t(".product-thumbnails-"+a).owlCarousel({items:4,loop:!1,nav:!1,autoplay:!1,dots:!1,autoHeight:!1,autoplayTimeout:3e3,autoplayHoverPause:!0,responsiveClass:!0,navText:["",""],navSpeed:600,responsive:{0:{items:3,nav:!1},600:{items:4,nav:!1},1000:{items:4,nav:!1}}}).on("click",".owl-item",function(){var e=t(this).index();t(".main-images-"+a).trigger("to.owl.carousel",[e,300,!0])}),t("body").on("click",".product-thumbnails-"+a+" .owl-item a",function(a){a.preventDefault()})}function loadCorouselHasThumbs(a){a(".nasa-sc-main-product").length>0&&a(".nasa-sc-main-product").each(function(){var t=a(this),e=a(t).attr("data-id");a(".nasa-product-img-slide-"+e).owlCarousel({items:1,nav:!1,lazyLoad:!0,autoplaySpeed:600,dots:!1,autoHeight:!0,autoplay:!1,loop:!1,autoplayTimeout:5e3,autoplayHoverPause:!0,responsiveClass:!0,navText:["",""],navSpeed:600}),a(".nasa-product-img-slide-"+e).on("change.owl.carousel",function(t){var n=t.relatedTarget.relative(t.property.value),i=a(".product-thumbnails-"+e+" .owl-item");a(".product-thumbnails-"+e+" .active-thumbnail").removeClass("active-thumbnail"),a(".product-thumbnails-"+e).find(".owl-item").eq(n).addClass("active-thumbnail"),i.trigger("to.owl.carousel",[n,300,!0])}).data("owl.carousel"),a(".product-thumbnails-"+e).owlCarousel({items:4,loop:!1,nav:!0,autoplay:!1,dots:!1,autoHeight:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsiveClass:!0,navText:["",""],navSpeed:600,responsive:{0:{items:3},600:{items:4},1000:{items:4}}}).on("click",".owl-item",function(){var t=a(this).index();a(".nasa-product-img-slide-"+e).trigger("to.owl.carousel",[t,300,!0])})})}function nasa_load_all_shortcodes(a){if(a(".nasa_load_ajax").length>0){var t={};a(".nasa_load_ajax").each(function(){var e=a(this),n=a(e).parent(),i=a(e).attr("data-id");(!a(n).hasClass("nasa-panel")||a(n).hasClass("active"))&&(t["nasa_sc_"+i]=a(e).find(".nasa-shortcode-content").text())}),t&&a.ajax({url:ajaxurl_core,type:"post",dataType:"json",data:{action:"nasa_load_ajax_all",shortcode:t,nasa_load_ajax:"1"},beforeSend:function(){},success:function(t){a("#yith-wcwl-popup-message").length<1&&a("body").prepend('<div id="yith-wcwl-popup-message" style="display: none;"><div id="yith-wcwl-message"></div></div>'),a(".nasa_load_ajax").each(function(){var e=a(this);if(void 0!==t["nasa_sc_"+a(e).attr("data-id")]){var n=a(e).parent();a(n).find(".nasa-tranparent-absolute").length<=0&&(a(n).css({position:"relative"}),a(n).append('<div class="nasa-tranparent-absolute"></div>')),a(e).replaceWith(t["nasa_sc_"+a(e).attr("data-id")]).hide().fadeIn(200)}}),nasa_load_ajax_funcs(a),setTimeout(function(){a(".nasa-tranparent-absolute").remove()},600)}})}}function nasa_load_shortcodes(a,t){var e=a(t).attr("data-shortcode"),n=a(t).find(".nasa-shortcode-content").text();n&&e&&a.ajax({url:ajaxurl_core,type:"post",data:{action:"nasa_load_ajax_item",shortcode:n,shortcode_name:e,nasa_load_ajax:"1"},beforeSend:function(){},success:function(e){a("#yith-wcwl-popup-message").length<1&&a("body").prepend('<div id="yith-wcwl-popup-message" style="display: none;"><div id="yith-wcwl-message"></div></div>');var n=a(t).parent();a(n).find(".nasa-tranparent-absolute").length<=0&&(a(n).css({position:"relative"}),a(n).append('<div class="nasa-tranparent-absolute"></div>')),a(t).replaceWith(e),nasa_load_ajax_funcs(a),setTimeout(function(){a(".nasa-tranparent-absolute").remove()},600)}})}function nasa_loadTipTop(a){if(a(".tip-top").length>0){var t,e;a(".tip-top").each(function(){e={mode:"top"},t=a(this),a(t).parents(".nasa-group-btn-in-list")<=0&&(a(t).hasClass("nasa-tiped")||(a(t).addClass("nasa-tiped"),"bot"===a(t).attr("data-pos")&&(e={mode:"bottom"}),a(t).tipr(e)))})}}function initNasaGiftFeatured(a){var t=1===a('input[name="nasa-enable-gift-effect"]').length&&"1"===a('input[name="nasa-enable-gift-effect"]').val()?!0:!1;if(t&&a(".nasa-gift-featured-event").length>0){var e=0;a(".nasa-gift-featured-event").each(function(){var t=a(this);if(!a(t).hasClass("nasa-inited")){a(t).addClass("nasa-inited");var n=a(t).parents(".nasa-gift-featured-wrap");setTimeout(function(){setInterval(function(){a(n).animate({"font-size":"250%"},300),setTimeout(function(){a(n).animate({"font-size":"180%"},300)},300),setTimeout(function(){a(n).animate({"font-size":"250%"},300)},600),setTimeout(function(){a(n).animate({"font-size":"100%"},300)},900)},4e3)},e),e+=900}})}}function nasaRenderTagClouds(a){if(a(".nasa-tag-cloud").length>0){var t=parseInt(a(".nasa-has-filter-ajax").find(".current-cat a").attr("data-id")),e=/(tag-link-\d+)/g;a(".nasa-tag-cloud").each(function(){var n=a(this),i=a(n).attr("data-taxonomy");if(!a(n).hasClass("nasa-taged")){var s;a(n).find("a").each(function(){var n=a(this).attr("class"),r=n.match(e);s=null!==r?parseInt(r[0].replace("tag-link-","")):!1,s&&(a(this).addClass("nasa-filter-by-cat").attr("data-id",s).attr("data-taxonomy",i).removeAttr("style"),s===t&&a(this).addClass("nasa-active"))}),a(n).addClass("nasa-taged")}})}}function nasaLoadHeightMainProducts(a){if(a(".nasa-main-content-warp").length>0){var t=a("body").width();t>945?a(".nasa-main-content-warp").each(function(){var t=a(this),e=a(t).parents(".nasa-sc-main-extra-product"),n=a(e).find(".nasa-product-main-aside.first");if(1===a(n).length&&2===a(n).find(".product-item").length){var i=a(n).height();a(t).css({"min-height":i})}}):a(".nasa-main-content-warp").css({"min-height":"auto"})}}function nasaLoadHeightDealBlock(a){if(a(".nasa-row-deal-3").length>0){var t=a("body").width();t>945?a(".nasa-row-deal-3").each(function(){var t=a(this),e=a(t).find(".main-deal-block .nasa-sc-pdeal-block"),n=a(t).find(".nasa-sc-product-deals-grid.nasa-deal-right");if(1===a(n).length){var i=a(n).height();a(e).css({"min-height":i-30})}}):a(".nasa-row-deal-3 .main-deal-block .nasa-sc-pdeal-block").css({"min-height":"auto"})}}function nasaLoadHeightFullWidthToSide(a){if(a("#main-content #content > .section-element > .row > .columns.nasa-full-to-left, #main-content #content > .section-element > .row > .columns.nasa-full-to-right").length>0){var t=a(window).width();a("#main-content #content > .section-element > .row > .columns.nasa-full-to-left, #main-content #content > .section-element > .row > .columns.nasa-full-to-right").each(function(){var e=a(this);if(t>1200){var n=a(e).outerHeight(),i=a(e).parent().height();n>=i?a(e).parent().css({"min-height":n}):a(e).parent().css({"min-height":"auto"})}else a(e).parent().css({"min-height":"auto"})})}}function loadingSlickHasExtraVerticalNasaCore(a){a(".nasa-slider-deal-has-vertical").each(function(){var t=a(this);if(!a(t).hasClass("slick-initialized")){var e=a(t).attr("data-id"),n="true"===a(t).attr("data-autoplay")?!0:!1,i="false"===a(t).attr("data-loop")?!1:!0,s=parseInt(a(t).attr("data-speed")),r=parseInt(a(t).attr("data-delay"));s=s?s:600,r=r?r:3e3;var o={vertical:!0,verticalSwiping:!0,slidesToShow:4,dots:!1,arrows:!1,infinite:i};o.asNavFor="#nasa-slider-slick-"+e,o.slidesToScroll=1,o.centerMode=!1,o.centerPadding="0px",o.focusOnSelect=!0,o.responsive=[{breakpoint:500,settings:{slidesToShow:1}}],a(".nasa-slider-deal-vertical-extra-"+e).attr("data-speed",s),a(t).slick({slidesToShow:1,slidesToScroll:1,autoplay:n,autoplaySpeed:r,speed:s,arrows:!0,infinite:i,asNavFor:".nasa-slider-deal-vertical-extra-"+e}),a(".nasa-slider-deal-vertical-extra-"+e).slick(o),a(t).addClass("slick-initialized")}})}function loadingSlickVerticalCategories(a){a(".nasa-vertical-slider").length>0&&a(".nasa-vertical-slider").each(function(){var t=a(this);if(!a(t).hasClass("slick-initialized")){var e=parseInt(a(t).attr("data-change")),n=parseInt(a(t).attr("data-speed")),i=parseInt(a(t).attr("data-delay")),s=a(t).attr("data-show")?a(t).attr("data-show"):"1",r="false"===a(t).attr("data-autoplay")?!1:!0,i=i?i:3e3,n=n?n:1e3,e=e?e:!1,o="true"===a(t).attr("data-dot")?!0:!1,d="true"===a(t).attr("data-arrows")?!0:!1,l={vertical:!0,verticalSwiping:!0,slidesToShow:s,autoplay:r,autoplaySpeed:i,speed:n,dots:o,arrows:d};e&&(l.slidesToScroll=e),a(t).slick(l),a(t).addClass("slick-initialized")}})}function change_image_content_product_variable(a,t,e){e="undefined"==typeof e?!1:e;var n=a(t).find(".nasa-product-content-child").length,i=a(t).find(".nasa-product-content-child .nasa-active").length,s=a(t).parents(".product-item"),r=a(s).find(".main-img img"),o=a(r).attr("data-org_img"),d=a(s).find(".back-img img"),l=a(d).attr("data-org_img"),c=a(s).find(".add-to-cart-btn a.add-to-cart-grid"),u=a(r).attr("srcset"),p=a(d).attr("srcset"),f=a(r).attr("data-srcset"),h=a(d).attr("data-srcset"),v=JSON.parse(a(t).attr("data-product_variations")),m=nasa_chosen_attrs(a,t),g=m.data;a(t).find(".nasa-product-content-child").each(function(){var e="attribute_pa_"+a(this).find(".nasa-attr-ux-item:eq(0)").attr("data-pa"),n=a.extend(!0,{},g);n[e]="";var i=nasa_matching_variations(v,n),s=[];if("undefined"!=typeof i)for(var r in i){var o=i[r].attributes;for(var d in o)d===e&&""!==o[d]&&s.push(o[d])}if(s.length){var l=e.replace("attribute_pa_","");a(t).find(".nasa-product-content-"+l+"-wrap-child .nasa-attr-ux-item").length&&a(t).find(".nasa-product-content-"+l+"-wrap-child .nasa-attr-ux-item").each(function(){var t=a(this),e=a(t).attr("data-value");-1===s.indexOf(e)?a(t).hasClass("nasa-disable")||a(t).addClass("nasa-disable"):a(t).removeClass("nasa-disable")})}}),a(s).find(".nasa-org-price.hidden-tag").length<=0&&a(s).find(".price").after('<div class="nasa-org-price hidden-tag">'+a(s).find(".price").html()+"</div>"),"undefined"==typeof a(t).attr("data-select_text")&&a(t).attr("data-select_text",a(c).find(".add_to_cart_text").html());var _=a(t).attr("data-select_text");if(n!==i)return"undefined"!=typeof o&&(a(r).attr("src",o),f&&a(r).attr("srcset",f)),"undefined"!=typeof l&&(a(d).attr("src",l),h&&a(d).attr("srcset",h)),a(c).find(".add_to_cart_text").html(_),a(c).attr("title",_),a(c).attr("data-product_id",a(t).attr("data-product_id")).addClass("product_type_variable").removeClass("product_type_variation").removeAttr("data-variation"),a(s).find(".price").html(a(s).find(".nasa-org-price").html()),a(s).find(".add-to-cart-btn").removeClass("nasa-active"),void 0;var b=[],y={};a(t).find(".nasa-product-content-child .nasa-active").each(function(){var t=a(this),e="attribute_pa_"+a(t).attr("data-pa"),n=a(t).attr("data-value"),i={key:e,value:n};y[e]=n,b.push(i)});var w=!1,C=null;for(var x in v){var S=v[x].attributes,T=0;for(var k in S)T++;if(n!==T)break;for(var j in b){if(""!==S[b[j].key]&&S[b[j].key]!==b[j].value){w=!1;break}w=!0}if(w){C=v[x];break}}if(C){var H=o?o:a(r).attr("src");H=H.replace("https:",""),H=H.replace("http:","");var I="";if("undefined"!==C.image_catalog&&(I=C.image_catalog.replace("https:",""),I=I.replace("http:","")),"undefined"!=typeof C.image_catalog&&""!==C.image_catalog&&I!==H?("undefined"==typeof o&&a(r).attr("data-org_img",a(r).attr("src")),"undefined"==typeof l&&a(d).attr("data-org_img",a(d).attr("src")),a(r).attr("src",C.image_catalog),a(d).attr("src",C.image_catalog),u&&(a(r).removeAttr("srcset"),a(r).attr("data-srcset",u)),p&&(a(d).removeAttr("srcset"),a(d).attr("data-srcset",p))):("undefined"!=typeof o&&(a(r).attr("src",o),f&&a(r).attr("srcset",f)),"undefined"!=typeof l&&(a(d).attr("src",l),h&&a(d).attr("srcset",h))),C.variation_id&&C.is_in_stock&&C.variation_is_visible&&C.is_purchasable){var P=a('input[name="add_to_cart_text"]').val();a(c).find(".add_to_cart_text").html(P),a(c).attr("title",P),a(s).find(".add-to-cart-btn").hasClass("nasa-active")||a(s).find(".add-to-cart-btn").addClass("nasa-active");var z={};for(var N in C.attributes)z[N]=y[N];C.price_html&&a(s).find(".price").replaceWith(C.price_html),a(c).attr("data-product_id",C.variation_id).removeClass("product_type_variable").addClass("product_type_variation").attr("data-variation",JSON.stringify(z))}else a(c).find(".add_to_cart_text").html(_),a(c).attr("title",_),a(c).attr("data-product_id",a(t).attr("data-product_id")).addClass("product_type_variable").removeClass("product_type_variation").removeAttr("data-variation"),a(s).find(".price").html(a(s).find(".nasa-org-price").html()),a(s).find(".add-to-cart-btn").removeClass("nasa-active")}else if("undefined"!=typeof o&&(a(r).attr("src",o),f&&a(r).attr("srcset",f)),"undefined"!=typeof l&&(a(d).attr("src",l),h&&a(d).attr("srcset",h)),a(c).find(".add_to_cart_text").html(_),a(c).attr("title",_),a(c).attr("data-product_id",a(t).attr("data-product_id")).addClass("product_type_variable").removeClass("product_type_variation").removeAttr("data-variation"),a(s).find(".price").replaceWith(a(s).find(".nasa-org-price").html()),a(s).find(".add-to-cart-btn").removeClass("nasa-active"),e){var A="undefined"!=typeof wc_add_to_cart_variation_params?wc_add_to_cart_variation_params.i18n_no_matching_variations_text:a('input[name="nasa_no_matching_variations"]').val();window.alert(A)}}function nasa_chosen_attrs(a,t){var e={},n=0,i=0;return a(t).find(".nasa-product-content-child").each(function(){var t="attribute_pa_",s="",r=0;a(this).find(".nasa-attr-ux-item").each(function(){0===r&&(t+=a(this).attr("data-pa")),a(this).hasClass("nasa-active")&&(s=a(this).attr("data-value")),r++}),s.length>0&&i++,n++,e[t]=s}),{count:n,chosenCount:i,data:e}}function nasa_isMatch_variation(a,t){var e=!0;for(var n in a)if("undefined"!=typeof a[n]){var i=a[n],s=t[n];void 0!==i&&void 0!==s&&0!==i.length&&0!==s.length&&i!==s&&(e=!1)}return e}function nasa_matching_variations(a,t){for(var e=[],n=0;n<a.length;n++){var i=a[n];nasa_isMatch_variation(i.attributes,t)&&e.push(i)}return e}function loadPinProductsBanner(a){a(".nasa-pin-banner-wrap").length>0&&a(".nasa-pin-banner-wrap").each(function(){var t=a(this);if(!a(t).hasClass("nasa-inited")){a(t).addClass("nasa-inited");var e=a(t).attr("data-pin"),n=a(t).find("img.nasa_pin_pb_image"),i=1===a(n).parents("columns").length?!0:!1;e&&a(n).length>0&&a(n).easypinShow({data:e,responsive:i,popover:{show:!1,animate:!1},each:function(a,t){return t},error:function(){},success:function(){a(t).find(".nasa-product-pin .price.nasa-price-pin").length>0&&a(t).find(".nasa-product-pin .price.nasa-price-pin").each(function(){var e=a(this).attr("data-product_id");a(t).find(".nasa-price-pin-"+e).length>0&&a(this).html(a(t).find(".nasa-price-pin-"+e).html())}),a(t).hasClass("nasa-has-effect")&&setInterval(function(){a(t).find(".nasa-marker-icon-wrap").toggleClass("nasa-effect")},2400)}}),a(n).click(function(){a(t).find(".easypin-popover").hide()}),a(document).on("keyup",function(t){27===t.keyCode&&a(n).click()})}})}function initVariablesProducts(a){if(a(".nasa-product-variable-call-ajax").length>0){var t=[];a(".nasa-product-variable-call-ajax").each(function(){a(this).hasClass("nasa-process")||(a(this).addClass("nasa-process"),-1===t.indexOf(a(this).attr("data-product_id"))&&t.push(a(this).attr("data-product_id")))}),t.length>0&&a.ajax({url:ajaxurl_core,type:"post",dataType:"json",data:{action:"nasa_render_variables",pids:t},beforeSend:function(){},success:function(t){if("undefined"!=typeof t.empty&&"0"===t.empty)for(var e in t.products)a(".nasa-product-variable-call-ajax.nasa-product-variable-"+e).replaceWith(t.products[e]);a(".nasa-product-content-variable-warp").length&&a(".nasa-product-content-variable-warp").each(function(){var t=a(this);change_image_content_product_variable(a,t,!1)})},error:function(){a(".nasa-product-variable-call-ajax").remove()}})}}function nasa_refresh_attrs(a,t){t.find(".nasa-attr-ux_wrap").each(function(){var t=a(this),e=a(t).attr("data-attribute_name");a('select[name="'+e+'"]').length&&a(t).find(".nasa-attr-ux").each(function(){var t=a(this),n=a(t).attr("data-value");a('select[name="'+e+'"]').find('option[value="'+n+'"]').length<=0?a(t).hasClass("nasa-disable")||a(t).addClass("nasa-disable"):a(t).removeClass("nasa-disable")})})}